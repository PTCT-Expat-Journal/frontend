.#{$prefix}-switch {
  $root: &;

  --switch-checked-part-color: var(--body-text-color-inverted);
  --switch-unchecked-part-color: var(--theme-primary);
  --switch-checked-part-color-disabled: var(--gray-200);
  --switch-unchecked-part-color-disabled: var(--gray-400);
  --switch-ckecked-background-color-disabled: var(--gray-400);
  --switch-unckecked-background-color-disabled: var(--gray-200);
  --switch-slider-color: var(--gray-200);

  [data-theme="dark"] &,
  &[data-theme="dark"] {
    --switch-checked-part-color-disabled: var(--gray-300);
    --switch-unchecked-part-color-disabled: var(--gray-400);
    --switch-ckecked-background-color-disabled: var(--gray-400);
    --switch-unckecked-background-color-disabled: var(--gray-500);
    --switch-slider-color: var(--gray-800);
  }

  &__slider {
    position: relative;
    z-index: 1;
    display: flex;
    height: $switch-height;
    overflow: hidden;
    background-color: var(--switch-slider-color);
    border-radius: 6.25rem;
    cursor: pointer;
    @include transition(.2s);

    &-left,
    &-right {
      position: relative;
      padding: 0 $spacer;
      font-weight: $font-weight-bold;
      font-size: 13px;
      line-height: $switch-height;
      @include transition(.4s);

      &::before { // Slider background
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;
        width: 100%;
        height: $switch-height;
        background: var(--theme-primary);
        border-radius: 6.25rem;
        content: "";
        @include transition(.2s);
      }

      i {
        color: inherit;
        line-height: inherit;
      }
    }

    &-left {
      color: var(--switch-checked-part-color);
    }

    &-right {
      color: var(--switch-unchecked-part-color);

      &::before { // Right slider background
        left: -100%;
      }
    }
  }

  input {
    // Hide original checkbox, but don't use `display: none` to allow focus on it using keyboard
    position: absolute;
    display: block;
    width: 0;
    height: 0;
    opacity: 0;

    &:checked {
      + #{$root}__slider #{$root}__slider {

        &-left,
        &-right {
          color: var(--switch-unchecked-part-color);

          &::before { // Left slider background
            left: 100%;
          }
        }

        &-right {
          color: var(--switch-checked-part-color);

          &::before { // Right slider background
            left: 0;
          }
        }
      }
    }

    &:disabled {
      + #{$root}__slider {
        background-color: var(--switch-unckecked-background-color-disabled);
        cursor: not-allowed;

        #{$root}__slider {
          &-left,
          &-right {
            &::before { // Slider background
              background: var(--switch-ckecked-background-color-disabled);
            }
          }

          &-left {
            color: var(--switch-checked-part-color-disabled);
          }

          &-right {
            color:var(--switch-unchecked-part-color-disabled);
          }
        }
      }

      &:checked {
        + #{$root}__slider #{$root}__slider {
          &-left {
            color:var(--switch-unchecked-part-color-disabled);
          }

          &-right {
            color: var(--switch-checked-part-color-disabled);
          }
        }
      }
    }
  }

  @each $color in map-keys($theme-colors) {
    @if $color != "light" {
      &--#{$color} {
        @include switch-variant(css-var(theme, $color));
      }
    }
  }
}
