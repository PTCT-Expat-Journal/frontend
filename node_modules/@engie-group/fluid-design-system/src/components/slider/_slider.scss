.#{$prefix}-slider {
  --slider-track-bg:var(--gray-200);
  --slider-track-position: 50% 100%;

  [data-theme="dark"] &,
  &[data-theme="dark"] {
    --slider-track-bg:var(--gray-500);
  }

  position: relative;

  input[type="range"] {
    display: block;
    width: 100%;
    height: calc(#{$slider-thumb-height} + #{$slider-thumb-focus-box-shadow-width * 2});
    padding: 0; // Need to reset padding
    background-color: transparent;
    /* stylelint-disable-next-line property-no-vendor-prefix */
    -webkit-appearance: none;

    &:focus {
      outline: none;

      // Pseudo-elements must be split across multiple rulesets to have an effect.
      // No box-shadow() mixin for focus accessibility.
      &::-webkit-slider-thumb {
        box-shadow: $slider-thumb-focus-box-shadow;
      }
      &::-moz-range-thumb {
        box-shadow: $slider-thumb-focus-box-shadow;
      }
      &::-ms-thumb {
        box-shadow: $slider-thumb-focus-box-shadow;
      }
    }

    &::-moz-focus-outer {
      border: 0;
    }

    &::-webkit-slider-thumb {
      width: $slider-thumb-width;
      height: $slider-thumb-height;
      margin-top: calc((#{$slider-track-height} - #{$slider-thumb-height}) / 2); // Webkit specific
      background-color: $slider-thumb-bg;
      border: $slider-thumb-border;
      border-radius: $slider-thumb-border-radius;
      box-shadow: $slider-thumb-box-shadow;
      @include transition($slider-transition);
      /* stylelint-disable-next-line property-no-vendor-prefix */
      -webkit-appearance: none;

      &:active {
        background-color: $slider-thumb-active-bg;
      }
    }

    &::-webkit-slider-runnable-track {
      @include track();
    }

    &::-moz-range-track {
      @include track();
    }

    &::-moz-range-thumb {
      width: $slider-thumb-width;
      height: $slider-thumb-height;
      background-color: $slider-thumb-bg;
      border: $slider-thumb-border;
      border-radius: $slider-thumb-border-radius;
      box-shadow: $slider-thumb-box-shadow;
      @include transition($slider-transition);
      appearance: none;

      &:active {
        background-color: $slider-thumb-active-bg;
      }
    }

    &::-ms-thumb {
      width: $slider-thumb-width;
      height: $slider-thumb-height;
      margin-top: 0; // Edge specific
      margin-right: $slider-thumb-focus-box-shadow-width; // Workaround that overflowed box-shadow is hidden.
      margin-left: $slider-thumb-focus-box-shadow-width; // Workaround that overflowed box-shadow is hidden.
      background-color: $slider-thumb-bg;
      border: $slider-thumb-border;
      border-radius: $slider-thumb-border-radius;
      box-shadow: $slider-thumb-box-shadow;
      @include transition($slider-transition);
      appearance: none;

      &:active {
        background-color: $slider-thumb-active-bg;
      }
    }

    &::-ms-track {
      width: $slider-track-width;
      height: 5px;
      color: transparent;
      background: linear-gradient($slider-track-bg-progress, $slider-track-bg-progress) no-repeat transparent;
      background-size: var(--slider-track-position);
      border-color: transparent;
      cursor: $slider-track-cursor;
    }

    &::-ms-fill-upper {
      background-color: var(--slider-track-bg);
      border-radius: $slider-track-border-radius;
    }

    &:disabled {
      &::-webkit-slider-thumb {
        background-color: $slider-thumb-disabled-bg;
      }

      &::-webkit-slider-runnable-track {
        cursor: default;
      }

      &::-moz-range-thumb {
        background-color: $slider-thumb-disabled-bg;
      }

      &::-moz-range-track {
        cursor: default;
      }

      &::-ms-thumb {
        background-color: $slider-thumb-disabled-bg;
      }
    }
  }

  &[data-tooltip="true"] {
    input[type="range"] {
      margin-top: 38px;
    }
  }

  .#{$prefix}-tooltip {
    bottom: 24px;

    .#{$prefix}-tooltip__arrow {
      left: calc(50% - .4rem);
    }
  }
}
