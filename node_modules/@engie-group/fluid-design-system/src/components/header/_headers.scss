.#{$prefix}-header {
  .nj-header__group {
    position: relative;
    padding: 0 map_get($spacers, 4);
    background: var(--components-background-color);
    box-shadow: 0 4px 6px rgba(0, 0, 0, .15);
    transform: none;
    transition: transform .5s;
  }

  &.#{$prefix}-header--fixed {
    height: $header-height;

    & .#{$prefix}-header__group {
      position: fixed;
      top: 0;
      z-index: var(--zindex-fixed);
      width: 100%;
    }
  }

  & .#{$prefix}-header__group {
    &::before {
      position: absolute;
      top: 0;
      left: 0;
      display: block;
      width: 100%;
      height: 3px;
      background: $gradient-primary;
      content: "";
    }
  }

  &__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: map-get($spacers, 3) 0;

    &-link {
      @include font-size("deci");
      color: var(--gray-600);

      [data-theme="dark"] &,
      &[data-theme="dark"] {
        color: var(--gray-100);
      }

      &--active {
        font-weight: $font-weight-bold;
      }
    }
  }

  &__nav-logo {
    display: none;
    flex: auto;
    justify-content: center;
  }

  &__nav-logo--reduced {
    display: flex;
    align-items: center;
    width: 0;
    margin-right: 0;
    transform: translate3d(0, 1rem, 0);
    visibility: hidden;
    opacity: 0;
    transition: opacity .25s, width .3s .1s, margin .3s .1s, visibility .1ms .6s, transform .1ms .6s;
  }

  & nav {
    display: flex;
    align-items: center;
    height: $header-nav-height;
  }

  &__nav-burger {
    position: absolute;
    left: 0;
    display: none;

    button {
      padding: .5rem 2rem;
      background: none;
      border: 0;
      outline: none;

      div:first-of-type,
      &::before,
      &::after {
        display: block;
        width: 22.5px;
        height: 2px;
        margin: 4px;
        background-color: var(--color-blue-corporate);
      }

      &::before,
      &::after {
        content: ""
      }
    }

    &--close {
      button {
        transform: translate3d(-4px, 0, 0);

        div:first-of-type {
          opacity: 0;
        }

        &::before {
          transform: rotate(45deg) translate3d(0, 6px, 0);
          transform-origin: center 7px;
        }

        &::after {
          transform: rotate(-45deg) translate3d(0, -6px, 0);
          transform-origin: center -5px;
        }
      }
    }
  }

  &__nav {
    display: flex;
    flex: 1 0 auto;
    justify-content: space-between;
    height: $header-nav-height;
    @include list-unstyled();
    margin: 0;

    &-item {
      display: flex;
      align-items: center;

      &:first-child {
        .#{$prefix}-header__nav-link {
          margin-left: 0;
        }
      }

      &:hover > .#{$prefix}-header__menu {
        display: block;
      }
    }

    &-link {
      position: relative;
      display: flex;
      align-items: center;
      height: $header-nav-height;
      margin: 0 map-get($spacers, 3);
      color: var(--body-text-color);
      line-height: 1.2rem;
      transition-property: color;
      @include material-animation-fast-out-slow-in(.3s);

      &::after {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: .125rem;
        background: $blue-corporate;
        opacity: 0;
        transition-property: opacity;
        content: "";
        @include material-animation-fast-out-slow-in(.3s);
      }

      &.active,
      &:hover {
        color: var(--body-text-color);
        text-decoration: none;

        &::after {
          opacity: 1;
        }
      }

      &.disabled {
        color: var(--gray-400);
        cursor: default;
        pointer-events: none;
      }
    }
  }

  &__search-icon {
    position: absolute;
    right: map_get($spacers, 4);
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: $header-nav-height;
    margin: 0;
    text-decoration: none;
    cursor:pointer;

    &:hover {
      text-decoration: none;
    }

    i {
      display: block;
    }
  }

  &__search {
    display: flex;
    flex-direction: row;
    align-items: center;
    height: 100%;
    margin: 0;
    padding: 0 $navbar-padding-x;
    background-color: var(--components-background-color);

    // Overide default collapse position
    &,
    &.#{$prefix}-collapsing {
      position: absolute;
      top: calc( 100% - #{$header-nav-height});
      left: 0;
      height: $header-nav-height;
      opacity: 0;
      @include material-animation-default(.1s);
    }

    &.#{$prefix}-collapsing,
    &.show {
      width: 100%;
    }

    &.show {
      opacity: 1;
      transition-property: opacity;
    }
  }

  &__close {
      text-decoration: none;
  cursor:pointer;

    &:hover {
      text-decoration: none;
    }
  }

  &__menu {
    position: absolute;
    top: 100%;
    left: 0;
    display: none;
    width: 100%;
    padding: map-get($spacers, 4) 0;
    background: var(--components-background-color);
    border-top: 1px solid var(--hr-color);
    box-shadow: 0 4px 6px rgba(0, 0, 0, .15);

    &-title {
      display: block;
      margin-bottom: $spacer;
      color: var(--body-text-color);
      font-weight: 700;
      line-height: 2rem;
      transition: .15s color;

        & + .nj-header__nav--panel {
        li:first-child{
          display: none;
        }
       }
    }

    &-link {
      color: var(--body-text-color);
      font-weight: 400;
      line-height: 2rem;
      transition: .15s color;
    }


    &-arrow-left{
      display:none
    }

     &-arrow-right{
      display:none
     }

     &-return{
      display:none
     }
  }


  &--sm .#{$prefix}-header__group {
    transform: translate3d(0, calc(-100% + #{$header-nav-height}), 0);
    transition: transform .5s;

    & .#{$prefix}-header__nav-logo--reduced {
      width: 2rem;
      margin-right: 3.5rem;
      transform: translate3d(0, 0, 0);
      visibility: visible;
      opacity: 1;
      transition: visibility .1ms, width .35s .1ms, margin .35s .1ms, opacity .3s .2s ease-out, transform .3s .2s;
    }

    & .#{$prefix}-header__search {
      top: calc(100% - #{$header-nav-height});
      height: #{$header-nav-height};
    }
  }

  /** Mobile Panels */
  @each $name, $value in $breakpoints {

    @media (max-width: $value) {
      &--expand-#{$name} {
        &.#{$prefix}-header--fixed {
          height: $header-nav-height;
        }

        .#{$prefix}-header__head {
          position: absolute;
          top: 0;
          left: 0;
             justify-content: center;
            width: 100%;
          height: $header-nav-height;


          > * {
          display:none;
          }

          .nj-header__logo {
              display: flex;
              align-items: center;
              justify-content: center;
           img {
           width:63px
           }
          }
        }

        .#{$prefix}-header__nav {
          &-burger {
            display: block;
          }

          &-logo--reduced {
            display: none;
          }

          &-logo {
            display: flex;
          }

          &--panel {
            position: fixed;
            top: $header-nav-height;
            left: -100%;
            flex-direction: column;
            justify-content: normal;
            width: 100vw;
            min-height: 100vh;
            padding: 0 2rem;
            overflow-y: auto;
            background-color: var(--body-background-color);
            transform: translate3d(0, 0, 0);
            visibility: hidden;
            transition: visibility .5s .1ms, transform .5s;

            li {
              display: flex;
              flex-wrap: wrap;
              align-items: center;
              height: 4rem;

              a {
                margin: 0;
              }
            }

            .#{$prefix}-header__nav--panel {
              top: 0;
              left: 100%;
              z-index: 1;
            }
          }

          &--show {
            transform: translate3d(-100%, 0, 0);
            visibility: visible;
            transition: visibility .1ms, transform .5s;
          }

          &.#{$prefix}-header__nav--show {
            transform: translate3d(100%, 0, 0);
          }

          &-item {
            line-height: 1.2rem;
          }

          &-link {
            position:static;
            flex-grow:1;
            margin: 0;
          }
        }

        .#{$prefix}-header__menu {
          display: block;
          border-top: 0;
          box-shadow: none;

          .container {
            max-width: inherit;
            padding: 0;
          }

          .col {
            flex-basis: 100%;
          }
        }

        .#{$prefix}-header__menu-return {
           display:flex;
           align-items:center;
           height:4rem;
           font-size:1.5rem;
           cursor:pointer;
        }

        .#{$prefix}-header__menu-title {
          display:flex;
          flex-grow:1;
          align-items: center;
          margin: 0;
          cursor:pointer;

          & + .nj-header__nav--panel li:first-child {
            display: flex;
          }
        }

        .#{$prefix}-header__menu-arrow-right{
         display:block;
         margin-left:auto;
         color:inherit;
        }

         .#{$prefix}-header__menu-arrow-left{
             display:block;
             margin-top:5px;
             margin-right:.5rem;
             margin-left:-5px;
             color:inherit;
         }

        .#{$prefix}-header__search-icon {
          right: 2rem;
        }

        a{
          text-decoration: none;
        }
      }
    }

  }
}
